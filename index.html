<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Asteroids World</title>
  <link rel="stylesheet" href="./styles.css" />
  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#000000">
</head>

<body>
  <canvas id="c"></canvas>

  <div id="hud"></div>

  <button id="pauseBtn" class="iconBtn" type="button" title="Pausar" style="right:96px; display:none;">
    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M8 6v12M16 6v12" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" />
    </svg>
  </button>

  <button id="quitBtn" class="iconBtn" type="button" title="Encerrar partida" style="display:none;">
    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" />
    </svg>
  </button>

  <button id="fsBtn" class="iconBtn" type="button" title="Tela cheia"></button>

  <div id="startScreen">
    <div id="panel">
      <div id="startHeader">
        <h1 id="title">Asteroids World</h1>

        <button id="customBtn" class="iconBtn startIcon" type="button" title="Personalizar" style="position:static;">
          <!-- gear -->
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 15.2a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4Z" stroke="currentColor" stroke-width="2.2" />
            <path
              d="M19 12a7.3 7.3 0 0 0-.08-1l2.01-1.55-2-3.46-2.43.86a7.5 7.5 0 0 0-1.74-1.01L14.4 3h-4.8l-.36 2.84c-.62.25-1.2.58-1.74 1.01L5.07 6l-2 3.46L5.08 11A7.3 7.3 0 0 0 5 12c0 .34.03.67.08 1l-2.01 1.55 2 3.46 2.43-.86c.54.42 1.12.76 1.74 1.01L9.6 21h4.8l.36-2.84c.62-.25 1.2-.58 1.74-1.01l2.43.86 2-3.46L18.92 13c.05-.33.08-.66.08-1Z"
              stroke="currentColor" stroke-width="1.8" stroke-linejoin="round" />
          </svg>
        </button>
      </div>

      <p id="sub">Destrua o asteroide antes que ele fuja da tela.</p>
      <div id="last"></div>

      <button id="startBtn" class="btn" type="button">Iniciar</button>

      <div id="rules">
        • 1 hit kill • 1 asteroide por vez<br />
        • Clique para destruir<br />
        • <kbd>Esc</kbd> pausa/retoma • <kbd>X</kbd> encerra
      </div>
    </div>


    <div id="version">Versão --</div>
    <div id="customModal" style="display:none;">
      <div id="customCard" role="dialog" aria-modal="true" aria-labelledby="customTitle">
        <div id="customHeader">
          <div id="customTitle">Personalizar</div>

          <button id="customCloseBtn" class="btn backBtn" type="button" title="Voltar" aria-label="Voltar">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>

        <div class="row">
          <div class="fieldLabel">
            <label for="opacityRange">Transparência UI</label>
            <button class="hintBtn" type="button" aria-label="Ajuda sobre transparencia" aria-describedby="hintOpacity">?</button>
            <div id="hintOpacity" class="hintBox" role="tooltip">
              Controla a opacidade do HUD, icones e botoes da interface.
            </div>
          </div>
          <input id="opacityRange" type="range" min="20" max="100" step="20" value="100" />
          <output id="opacityOut">100%</output>
        </div>

        <div class="row">
          <div class="fieldLabel">
            <label for="speedRange">Velocidade</label>
            <button class="hintBtn" type="button" aria-label="Ajuda sobre velocidade" aria-describedby="hintSpeed">?</button>
            <div id="hintSpeed" class="hintBox" role="tooltip">
              Define o ritmo base do movimento do asteroide durante a partida.
            </div>
          </div>
          <input id="speedRange" type="range" min="1" max="5" step="1" value="3" />
          <output id="speedOut">Nível 3</output>
        </div>

        <div class="row rowToggle">
          <div class="fieldLabel">
            <label for="difficultyToggle">Dificuldade</label>
            <button class="hintBtn" type="button" aria-label="Ajuda sobre dificuldade" aria-describedby="hintDifficulty">?</button>
            <div id="hintDifficulty" class="hintBox" role="tooltip">
              Quando ativa, a velocidade do asteroide cresce com o tempo da rodada.
            </div>
          </div>
          <label class="switch" for="difficultyToggle" aria-label="Alternar dificuldade progressiva">
            <input id="difficultyToggle" type="checkbox" />
            <span class="slider" aria-hidden="true"></span>
          </label>
        </div>

        <button id="customApplyBtn" class="btn" type="button" style="margin-top:12px;">
          Aplicar alterações
        </button>
      </div>
    </div>
  </div>

  <div id="confirmModal" style="display:none;">
    <div id="confirmBackdrop"></div>

    <div id="confirmCard" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
      <div id="confirmHeader">
        <div id="confirmTitle">Encerrar partida?</div>

        <button id="confirmCloseBtn" class="iconBtn" type="button" title="Fechar" style="position:static;">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" />
          </svg>
        </button>
      </div>

      <div class="help" style="margin-top:0;">
        Seu desempenho será salvo como “Última partida”.
      </div>

      <div style="display:flex; gap:10px; margin-top:12px;">
        <button id="confirmCancelBtn" class="btn" type="button" style="margin-top:0; flex:1;">
          Cancelar
        </button>
        <button id="confirmEndBtn" class="btn" type="button"
          style="margin-top:0; flex:1; background: rgba(255,80,80,0.12); border-color: rgba(255,80,80,0.22);">
          Encerrar
        </button>
      </div>
    </div>
  </div>

  <script type="module" src="./src/main.js"></script>
</body>

</html>
